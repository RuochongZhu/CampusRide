# 🚗 拼车功能测试指南

## 🎯 测试目标
验证 CampusRide 拼车系统的核心功能

---

## ✅ 服务状态

### 后端服务
- **地址**: http://localhost:3001
- **状态**: ✅ 运行中（演示模式）
- **数据库**: 内存数据库（已包含测试用户）

### 前端服务
- **地址**: http://localhost:3000  
- **状态**: ✅ 运行中

---

## 🎭 测试账号

```
邮箱: demo@cornell.edu
密码: demo1234
```

✅ 已验证账号，无需邮箱验证，直接登录

---

## 📋 测试流程

### 步骤 1: 登录系统

1. 打开浏览器访问: **http://localhost:3000**
2. 点击右上角 **"Login"** 按钮
3. 输入测试账号信息：
   - Email: `demo@cornell.edu`
   - Password: `demo1234`
4. 点击 **"Login"** 登录

**期望结果**: 
- ✅ 成功登录
- ✅ 页面跳转到首页
- ✅ 右上角显示用户信息

---

### 步骤 2: 进入拼车页面

1. 点击导航栏的 **"Rideshare"** 或 **"拼车"**
2. 页面加载拼车界面

**期望结果**:
- ✅ 看到 Driver/Passenger 切换按钮
- ✅ 默认显示 Passenger（乘客）模式
- ✅ 右侧显示可用行程列表

---

### 步骤 3: 发布拼车行程（Driver 模式）

1. 点击页面顶部的 **"Driver"** 按钮
2. 填写行程信息：

   **出发地（Origin）**:
   - 输入: `Cornell`
   - 选择自动完成建议: `Cornell University`
   
   **目的地（Destination）**:
   - 输入: `JFK`
   - 选择自动完成建议: `JFK Airport`
   
   **日期（Date）**:
   - 选择明天的日期
   
   **时间（Time）**:
   - 选择: `10:00 AM`
   
   **座位数（Available Seats）**:
   - 输入: `3`
   
   **价格（Price per Seat）**:
   - 输入: `25`
   
   **描述（Description）** (可选):
   - 输入: `舒适行程，准时出发`

3. 点击 **"Post Trip"** 按钮

**期望结果**:
- ✅ 显示成功提示消息
- ✅ 页面自动切换到 Passenger 模式
- ✅ 右侧列表显示刚发布的行程
- ✅ 行程标题自动生成为: `Cornell University → JFK Airport`

---

### 步骤 4: 搜索拼车行程（Passenger 模式）

1. 确保在 **"Passenger"** 模式
2. 在搜索框中输入：

   **出发地**: `Cornell`
   **目的地**: `JFK`

3. 点击 **"Search Rides"** 按钮

**期望结果**:
- ✅ 显示符合条件的行程
- ✅ 行程卡片显示完整信息：
  - 标题
  - 出发地和目的地
  - 日期和时间
  - 可用座位数
  - 每座位价格
  - 描述

---

### 步骤 5: 查看行程详情

1. 在行程列表中找到刚发布的行程
2. 点击行程卡片上的 **"View Details"** 或 **"Book"** 按钮

**期望结果**:
- ✅ 显示行程完整详情
- ✅ 显示司机信息
- ✅ 显示可预订的座位数
- ✅ 显示预订按钮

---

### 步骤 6: 预订座位

1. 在行程详情页面
2. 选择座位数（1-3）
3. 点击 **"Book Now"** 按钮

**期望结果**:
- ✅ 显示预订成功消息
- ✅ 行程的剩余座位数更新
- ✅ 可以在 "My Rides" 中看到预订记录

---

## 🧪 其他测试场景

### 测试场景 1: 地址自动完成

1. 在 Origin 或 Destination 输入框中输入部分地址
2. 观察下拉建议列表

**测试用例**:
- 输入 `cayuga` → 应显示 `Cayuga Place`, `Cayuga Lake` 等
- 输入 `cornell` → 应显示 `Cornell University`, `Cornell Tech` 等
- 输入 `ithaca` → 应显示 Ithaca 相关地址

**期望结果**:
- ✅ 实时显示地址建议
- ✅ 建议列表美观易读
- ✅ 点击建议后自动填入输入框

---

### 测试场景 2: 表单验证

1. 尝试发布不完整的行程

**测试用例**:
- 不填写出发地 → 应显示错误提示
- 不填写目的地 → 应显示错误提示
- 不选择日期 → 应显示错误提示
- 选择过去的日期 → 应显示错误提示

**期望结果**:
- ✅ 显示清晰的错误提示
- ✅ 阻止提交不完整的表单
- ✅ 高亮显示错误字段

---

### 测试场景 3: 多个行程

1. 发布 3-5 个不同的行程
2. 查看行程列表

**期望结果**:
- ✅ 所有行程正确显示
- ✅ 按时间排序
- ✅ 可以筛选和搜索
- ✅ 卡片布局整齐

---

### 测试场景 4: 响应式设计

1. 调整浏览器窗口大小
2. 在不同设备上测试

**期望结果**:
- ✅ 移动端布局适配良好
- ✅ 按钮和输入框大小合适
- ✅ 文字清晰易读
- ✅ 导航菜单响应式

---

## 🐛 已知问题和限制

### 演示模式限制
- ⚠️ 数据存储在内存中
- ⚠️ 重启后端后数据会清空
- ⚠️ 不支持多用户同时测试（单机模式）

### Google Maps API
- 🔑 需要有效的 API Key
- 🔑 需要启用 Places API
- ⚠️ 如果地址自动完成不工作，检查 API Key 配置

---

## ✅ 测试检查清单

- [ ] 成功登录测试账号
- [ ] 进入拼车页面
- [ ] 切换 Driver/Passenger 模式
- [ ] 发布至少一个拼车行程
- [ ] 行程标题自动生成正确
- [ ] 地址自动完成功能工作
- [ ] 搜索功能返回正确结果
- [ ] 查看行程详情
- [ ] 预订座位成功
- [ ] 座位数正确更新
- [ ] 表单验证正常工作
- [ ] 错误提示清晰明确
- [ ] UI 美观流畅
- [ ] 响应式设计良好

---

## 🎯 成功标准

### 基础功能（必须通过）
- ✅ 用户可以登录
- ✅ 用户可以发布行程
- ✅ 用户可以搜索行程
- ✅ 用户可以预订座位
- ✅ 数据正确保存和显示

### 增强功能（建议通过）
- ✅ 地址自动完成工作
- ✅ UI/UX 体验良好
- ✅ 错误处理完善
- ✅ 响应式设计

---

## 🔧 故障排除

### 问题 1: 无法登录
**解决方案**:
- 确认后端正在运行（http://localhost:3001）
- 使用正确的测试账号
- 检查浏览器控制台是否有错误

### 问题 2: 无法发布行程
**解决方案**:
- 确认所有必填字段已填写
- 日期必须是未来时间
- 检查后端终端是否有错误日志

### 问题 3: 地址自动完成不工作
**解决方案**:
- 检查 Google Maps API Key 是否配置
- 确认 Places API 已启用
- 查看浏览器控制台是否有 API 错误

### 问题 4: 数据不显示
**解决方案**:
- 刷新页面
- 检查网络请求（F12 → Network）
- 确认后端响应正常

---

## 📊 测试报告模板

```
测试时间: ___________
测试人员: ___________

【登录功能】
- 状态: ✅ 通过 / ❌ 失败
- 备注: ___________

【发布行程】
- 状态: ✅ 通过 / ❌ 失败
- 备注: ___________

【搜索行程】
- 状态: ✅ 通过 / ❌ 失败
- 备注: ___________

【预订座位】
- 状态: ✅ 通过 / ❌ 失败
- 备注: ___________

【地址自动完成】
- 状态: ✅ 通过 / ❌ 失败
- 备注: ___________

【整体评价】
___________

【发现的问题】
1. ___________
2. ___________
3. ___________

【改进建议】
1. ___________
2. ___________
3. ___________
```

---

## 🎉 测试完成

恭喜！如果所有基础功能测试通过，说明拼车系统运行正常！

**下一步**:
1. 记录测试结果
2. 报告发现的问题
3. 继续测试其他功能
4. 准备部署到生产环境

---

**祝测试顺利！🚗💨**

