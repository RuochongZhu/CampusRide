"use strict";const e=require("../common/vendor.js");Math||s();const s=()=>"./wall.js",a=e.defineComponent({__name:"index",setup(s){const a=e.ref(""),n=e.ref(0),u=e.ref("");return e.onMounted(async()=>{e.index.request({url:"https://ricardo-use.yueyuebang.cn/profile.json",success:async s=>{const o=s.data;n.value=o.mode;const r=await new Promise((s,a)=>{e.index.getProvider({service:"oauth",success:n=>{e.index.login({success:function(e){"login:ok"===e.errMsg&&s(e.code),a(e.errMsg)},fail(e){a(e)}})}})});a.value=r,u.value=o.base_domain}})}),(s,o)=>e.e({a:1===n.value},(n.value,{}),{b:2===n.value},2===n.value?e.e({c:u.value},u.value?{d:u.value+"?tk="+a.value}:{}):{})}});wx.createPage(a);
